// assets/js/alpine.min.js
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Alpine=t()}(this,function(){"use strict";function e(e,t,n){void 0===n&&(n={});let i={_x_attributeCleanups:{},_x_cleanups:{},_x_isShown:!0,_x_mounted:!1,_x_previousAttributes:{}},r=()=>{i._x_attributeCleanups={...e._x_attributeCleanups},i._x_cleanups={...e._x_cleanups}};return (o=>(i._x_isShown=o,o?setTimeout(i._x_view.bind(i)):setTimeout(()=>{r(),queueMicrotask(i._x_hide.bind(i))},100)),i.init=()=>{e._x_isShown=!0,e._x_mounted||(e._x_previousAttributes=e.getAttributeNames().reduce((e,t)=>(e[t]=e.getAttribute(t),e),{}),e._x_mounted=!0,t.call(e,e,n))},i._x_view=()=>{e.style.display=""},i._x_hide=()=>{e.style.display="none"},i;let o=e.init.bind(e);e.init=()=>{o.call(e),i.init()};let s=e.cleanup.bind(e);e.cleanup=()=>{s.call(e),r()}}function t(e,t,n){if(e.isInitialized)return;let i=t?n:null;e.isInitialized=!0,e.isInitializing=!0,e.innerHTML=e.innerHTML.replace(/{{\s*([^}]+)\s*}}/g,"<span x-text='$1'></span>"),e.walk((e,t)=>{if(!1===t(e))return;let n=e.firstElementChild;for(;n;)t(n),n=n.nextElementSibling}),e.initTree(),e.isInitializing=!1,i&&i(e)}function n(e,t,n,i,r){let o={};return o.start=async()=>{let s=e.evaluate(t);return s instanceof Promise?await s:s},o.run=(n,i)=>{if(void 0===n)return o.start().then(n=>i(n));i(n)},o.isModifier=t=>["debounce","throttle","prevent","stop","self","away","once"].includes(t),o.getModifier=(t,n,i)=>{let r=o.isModifier(t)?t:"function"==typeof n[t]?n[t]:{};return r.name=t,r.value=i,r},o.getModifiers=()=>{let e=t.match(/[^. ]+/g)||[];return e.map(e=>o.getModifier(e,n,t))},o.applyModifiers=(t,i)=>{let r=o.getModifiers();for(let e=0;e<r.length;e++){let n=r[e];if("function"==typeof n){let t=n(i);if(!1===t)return}else if("debounce"===n.name){let e=250;n.value&&/^[0-9]+(ms|s)?$/.test(n.value)&&(e="ms"===n.value.slice(-2)?n.value.slice(0,-2):"s"===n.value.slice(-1)?1e3*n.value.slice(0,-1):n.value),i=function(e,t,n){let i;return function(){let r=this,o=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(r,o)},t)}}(i,e)}else if("throttle"===n.name){let e=250;n.value&&/^[0-9]+(ms|s)?$/.test(n.value)&&(e="ms"===n.value.slice(-2)?n.value.slice(0,-2):"s"===n.value.slice(-1)?1e3*n.value.slice(0,-1):n.value),i=function(e,t){let n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout(()=>n=!1,t))}}(i,e)}else n.value?i.preventDefault():"stop"===n.name?i.stopPropagation():"self"===n.name?i.target===e&&i.target.isSameNode(e)&&t(i):"away"===n.name?e.contains(i.target)||(i.target.isConnected||(e.removeEventListener(i.type,t),e.removeEventListener("keydown",t)),t(i)):"once"===n.name&&(e.removeEventListener(i.type,t),t(i))}},o.options=i,o}function i(e){return!e.startsWith("x-")}function r(e){return e.split(/([a-zA-Z0-9\-:]+)/).filter(e=>e)}function o(e,t,n){let s={},a=Array.from(e.attributes);for(let e=0;e<a.length;e++){let i=a[e];if(i.name.startsWith(t)){let t=i.name,r=i.value;n(s,t,r)}}return s}function s(e,t,n,i){let r={},o=e=>e.startsWith("@")?"x-on:"+e.substring(1):e.startsWith(":")?"x-bind:"+e.substring(1):e;return r.directives=Array.from(e.attributes).map(s).filter(i).map(i=>{let r=i.name.substring(t.length).split("."),s=r.shift(),a=r,o=i.value;return n(s,o,{name:i.name,value:i.value,modifiers:a,expression:o})}).filter(e=>e),r}function a(e){let t=[],n=e=>e.startsWith("x-");return e.walk((e,i)=>{if(n(e.tagName))return;let r=o(e,x.prefix,(e,t,n)=>{}).directives;r.length>0&&t.push(e),i(e)}),t}function l(e){let t=c(e);return t?t.isCloning?t.fromEl:e.el:e}function c(e){let t=e.closest("[x-data]");if(t)return t.__x}function u(e,t){let n=c(e);if(n&&void 0!==n.data[t])return n.data[t]}function d(e,t,n){if(void 0===n&&(n=()=>{}),"function"==typeof t)return e.evaluateReturnExpression(t,n);let i={},r=c(e);r&&(i={...r.data});let o=new Function(["$data",...Object.keys(i)],`var __alpine_result; __alpine_result = ${t}; return __alpine_result`)(e,e,...Object.values(i));return"function"==typeof n?n(o):o}let f={mapAttributes(e,t){let n=e=>e.startsWith(x.prefix),i={};return i.attributes=Array.from(e.attributes).map(e=>e.name).filter(n),i.directives=Array.from(e.attributes).map(e=>({name:e.name,value:e.value})).filter(e=>n(e.name)),i},initTree(e){if(!e.hasAttribute("x-data")&&!e.hasAttribute("x-data-src")){let n=!1;return e.walk((e,t)=>{e.hasAttribute("x-data")&&(n=!0,t(e))}),void(n||t(e,e,()=>{e.isInitialized=!0}))}t(e,e,()=>{e.isInitialized=!0})},walk(e,t,n){let i=e.firstElementChild;for(;i;){let e=!1;t(i,()=>{e=!0}),e||this.walk(i,t,n),i=i.nextElementSibling}n&&n(e)},closestDataStack(e){if(e.__x)return e;let t,n=[],i=e.parentNode;for(;i;){i.__x&&n.push(i.__x),i=i.parentNode}return n},evaluate(e,t,n){return d(e,t,n)},evaluateReturnExpression(e,t,n){return d(e,t,n)},setEvaluator(e){this.evaluate=e},setInitialState(e){x.initialState=e}},m={isCloning:!1,data:{},directives:{},init(e){let t=this;this.el=e,this.isCloning=!1,this.el.__x=this,this.el.isCloning=this.isCloning,this.el.setAttribute("x-data",""),this.el.setAttribute("x-data-src",""),this.el.observer=new MutationObserver(e=>{e.forEach(e=>{t.updateElements(e.target)})}),this.el.observer.observe(this.el,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),this.el.addEventListener("focusin",()=>{}),this.el.addEventListener("focusout",()=>{}),this.directives=o(this.el,x.prefix,(e,t,n)=>{e[t]={name:t,value:n}}),this.data=this.getInitialData();let n={};Object.entries(this.directives).forEach(([e,i])=>{let r=x.directives[e]||{};r.init&&r.init.call(t,this.el,i,this.data,x.directives)}),this.el.init=()=>{queueMicrotask(()=>{this.updateElements(this.el)})}},getInitialData(){let e=this.el.getAttribute("x-data")||"{}";return d(this.el,e)},updateElements(e){this.walkAndInitialize(e)},walkAndInitialize(e){f.walk(e,(e,t)=>{this.isCloning||e.hasAttribute("x-data")||(Object.keys(this.directives).forEach(n=>{let i=x.directives[n]||{};i.update&&i.update.call(this,e,this.directives[n],this.data,x.directives)}),t(e))})}},p={};p.transition=e,x.directives.transition=p.transition,p.text=(e,t)=>{e.textContent=d(e,t.expression)},x.directives.text=p.text,p.html=(e,t)=>{e.innerHTML=d(e,t.expression)},x.directives.html=p.html,p.bind=(e,t)=>{let n=t.expression,i=d(e,n),r=t.name.split(".").slice(1).join(".");if("class"===r&&Array.isArray(i))e.setAttribute("class",i.join(" "));else if("class"===r&&"object"==typeof i){let t=Object.keys(i).filter(e=>i[e]).join(" ");e.setAttribute("class",t)}else e.setAttribute(r,i)},x.directives.bind=p.bind,p.on=(e,t,i,r)=>{let o=t.expression.replace(/([a-zA-Z0-9\-:]+)/g,'"$1"'),s={},a=c(e);a&&(s=a.data);let l=()=>{d(e,t.expression)};t.modifiers.includes("away")?e.addEventListener(t.name.split(".")[1],n=>{e.contains(n.target)||e.isSameNode(n.target)||l(n)}):e.addEventListener(t.name.split(".")[1],l)},x.directives.on=p.on,p.model={after:[],init(e,t,o,s){let a="radio"===e.type||"checkbox"===e.type?e.hasAttribute("value")?e.value:t.expression:"SELECT"===e.tagName&&e.multiple?Array.from(e.options).filter(e=>e.selected).map(e=>e.value):e.value,l=()=>{d(e,`${t.expression} = ${JSON.stringify(a)}`)};this.after.push(()=>{d(e,t.expression)===a?e.setAttribute("checked","checked"):"SELECT"===e.tagName&&e.multiple?d(e,t.expression).includes(a)?e.setAttribute("selected","selected"):e.removeAttribute("selected"):e.removeAttribute("checked")}),e.addEventListener("input",()=>{a="radio"===e.type||"checkbox"===e.type?e.hasAttribute("value")?e.value:t.expression:"SELECT"===e.tagName&&e.multiple?Array.from(e.options).filter(e=>e.selected).map(e=>e.value):e.value,l()})},update(e,t,i,r){}},x.directives.model=p.model,p.data=(e,t,i,r)=>{e.isCloning||e.hasAttribute("x-data")||(e.setAttribute("x-data",t.expression),x.initializeElement(e))},x.directives.data=p.data,p.show=(e,t,i)=>{let r=d(e,t.expression);r?e.style.display="":e.style.display="none"},x.directives.show=p.show,p.if=(e,t,i)=>{let r=d(e,t.expression);if(!r)return e.remove();let o=e.firstElementChild;x.initializeElement(o)},x.directives.if=p.if,p.cloak=(e,t,n)=>{e.removeAttribute("x-cloak")},x.directives.cloak=p.cloak,p.ref=(e,t)=>{let n=c(e);n.data.$refs={},n.data.$refs[t.expression]=e},x.directives.ref=p.ref,p.effect=(e,{expression:t})=>{let i=c(e);let r=new Function(["$data",...Object.keys(i.data)],t)(e,...Object.values(i.data))};x.directives.effect=p.effect,p.for=(e,t)=>{let n=function(e){let t="",n=/([\s\S]+?)\s+(?:in|of)\s+([\s\S]+)/;let i=e.match(n);if(!i)return console.warn("Alpine: Invalid 'x-for' expression.",e),{items:[],key:""};return t=i[1].trim(),{items:i[2].trim(),key:t}}(t.expression),i=d(e,n.items);e.removeAttribute("x-for");let r=e.cloneNode(!0);i.forEach(t=>{let n=e.parentElement,o=r.cloneNode(!0);o.__x=c(o),o.setAttribute("x-data",JSON.stringify(t)),x.initializeElement(o),n.appendChild(o)})};var h=p.for;function y(e,t){return e.__x?e.__x.data[t]:void 0}x.directives.for=h,x.version="3.0.0-alpha.1";const v={start(){this.discoverComponents(e=>{this.initializeElement(e)})},discoverComponents(e){const t=document.querySelectorAll("[x-data]");t.forEach(t=>{e(t)})},initializeElement(e){const t=Object.assign(Object.create(m),{});e.__x=t,t.init(e)},clone(e,t){t.__x||x.initializeElement(t),t.__x.data={...e.__x.data},t.isCloning=!0},addDirective(e,t){this.directives[e]=t},set data(e){},get data(){},get prefix(){return"x-"},get directives(){return this.directives},set initialState(e){let t=this.reactive(e);Object.keys(t).forEach(e=>{this.data[e]=t[e]})},get initialState(){return this.data}};var x=v;return Element.prototype.closestDataStack=function(){return f.closestDataStack(this)},Element.prototype.walk=function(e){return f.walk(this,e)},Element.prototype.hasAttributeStartingWith=function(e){return this.attributes.length>0&&Array.from(this.attributes).map(e=>e.name).filter(t=>t.startsWith(e)).length>0},Element.prototype.getAttributeStartingWith=function(e){return Array.from(this.attributes).map(e=>e.name).filter(t=>t.startsWith(e))},Object.defineProperty(window,"Alpine",{get:()=>x}),window.Alpine=x,document.addEventListener("DOMContentLoaded",()=>{x.start()}),x});